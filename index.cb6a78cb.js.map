{"mappings":"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","sources":["node_modules/@swc/helpers/lib/_define_property.js","src/libs/explosion/js/index.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _defineProperty;\nfunction _defineProperty(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\n","const defaultOptions = {\n  linkClass: '.cardLink',\n  linkImageClass: '.cardImage',\n};\n\nconst explosionClassName = 'explosion';\nconst explosionOpenedClassName = 'explosion_Opened';\nconst explosionOpeningClassName = 'explosion_Opening';\n\nconst explosionSummaryClassName = 'explosionSummary';\nconst explosionControlsClassName = 'explosionControls';\nconst explosionImagesClassName = 'explosionImages';\n\nconst explosionSummaryContentClassName = 'explosionSummaryContent';\nconst explosionTitleClassName = 'explosionTitle';\nconst explosionDescriptionClassName = 'explosionDescription';\nconst explosionImageClassName = 'explosionImage';\n\nconst explosionCloseClassName = 'explosionClose';\nconst explosionNavsClassName = 'explosionNavs';\n\nconst explosionNavClassName = 'explosionNav';\nconst explosionNavPrevClassName = 'explosionNavPrev';\nconst explosionNavNextClassName = 'explosionNavNext';\nconst explosionCounterClassName = 'explosionCounter';\nconst explosionNavDisabledClassName = 'explosionNavDisabled';\n\nconst explosionPrevHiddenImageClassName = 'explosionImage_PrevHidden';\nconst explosionPrevShowingImageClassName = 'explosionImage_PrevShowing';\nconst explosionActiveImageClassName = 'explosionImage_Active';\nconst explosionNextShowingImageClassName = 'explosionImage_NextShowing';\nconst explosionNextHiddenImageClassName = 'explosionImage_NextHidden';\n\nclass ExplosionGallery {\n  constructor(elementNode, options) {\n    this.options = {\n      ...defaultOptions,\n      ...options,\n    };\n    this.containerNode = elementNode;\n    this.linkNodes = elementNode.querySelectorAll(this.options.linkClass);\n    console.log(this.linkNodes[0].dataset);\n    this.minWidth = 1023;\n    this.minHeight = 600;\n    this.padding = 2 * 16;\n    this.showingCount = 4;\n    this.currentIndex = 0;\n    this.size = this.linkNodes.length;\n    this.initModal();\n    this.events();\n  }\n\n  initModal() {\n    this.modalContainerNode = document.createElement('div');\n    this.modalContainerNode.className = explosionClassName;\n    this.modalContainerNode.innerHTML = `\n    <div class=\"${explosionSummaryClassName}\">\n  <div class=\"${explosionSummaryContentClassName}\">\n    <h2 class=\"${explosionTitleClassName}\"></h2>\n    <p class=\"${explosionDescriptionClassName}\"></p>\n  </div>\n</div>\n <div class=\"${explosionControlsClassName}\">\n      <button class=\"${explosionCloseClassName}\"></button>\n      <div class=\"${explosionNavsClassName}\">\n        <button class=\"${explosionNavClassName}  ${explosionNavPrevClassName}\"></button>\n        <div class=\"${explosionCounterClassName}\">1/${this.size}</div>\n        <button class=\"${explosionNavClassName}  ${explosionNavNextClassName}\"></button>\n      </div>\n    </div>\n    <div class=\"${explosionImagesClassName}\">\n     ${Array.from(this.linkNodes)\n       .map(\n         linkNode => ` \n         <img\n            src=\"${linkNode.getAttribute('href')}\" \n            alt=\"${linkNode.dataset.title}\"\n            class=\"${explosionImageClassName}\"\n            data-title=\"${linkNode.dataset.title}\"\n            data-description=\"${linkNode.dataset.description}\"\n          />`\n       )\n       .join('')}\n  </div>\n     </div>\n    `;\n    this.explosionImageNodes = this.modalContainerNode.querySelectorAll(\n      `.${explosionImageClassName}`\n    );\n    this.explosionControlsNode = this.modalContainerNode.querySelector(\n      `.${explosionControlsClassName}`\n    );\n    this.explosionNavsNode = this.modalContainerNode.querySelector(\n      `.${explosionNavsClassName}`\n    );\n    this.explosionNavPrevNode = this.modalContainerNode.querySelector(\n      `.${explosionNavPrevClassName}`\n    );\n    this.explosionNavNextNode = this.modalContainerNode.querySelector(\n      `.${explosionNavNextClassName}`\n    );\n    this.explosionCounterNode = this.modalContainerNode.querySelector(\n      `.${explosionCounterClassName}`\n    );\n    this.explosionSummaryNode = this.modalContainerNode.querySelector(\n      `.${explosionSummaryClassName}`\n    );\n    this.explosionSummaryContentNode = this.modalContainerNode.querySelector(\n      `.${explosionSummaryContentClassName}`\n    );\n    this.explosionTitleNode = this.modalContainerNode.querySelector(\n      `.${explosionTitleClassName}`\n    );\n    this.explosionDescriptionNode = this.modalContainerNode.querySelector(\n      `.${explosionDescriptionClassName}`\n    );\n    this.explosionCloseNodes = this.modalContainerNode.querySelector(\n      `.${explosionCloseClassName}`\n    );\n    explosionCounterClassName;\n    document.body.appendChild(this.modalContainerNode);\n  }\n  events() {\n    this.containerNode.addEventListener('click', this.activeGallery);\n    this.explosionNavsNode.addEventListener('click', this.switchImage);\n    this.explosionCloseNodes.addEventListener('click', this.closeGallery);\n  }\n  resize = () => {\n    if (this.modalContainerNode.classList.contains(explosionOpenedClassName)) {\n      this.setInitSizesToImages();\n      this.setGalleryStyles();\n    }\n  };\n\n  switchImage = e => {\n    e.preventDefault;\n    const buttonNode = e.target.closest('button');\n    if (!buttonNode) {\n      return;\n    }\n    if (\n      buttonNode.classList.contains(explosionNavPrevClassName) &&\n      this.currentIndex > 0\n    ) {\n      this.currentIndex -= 1;\n    }\n    if (\n      buttonNode.classList.contains(explosionNavNextClassName) &&\n      this.currentIndex < this.size - 1\n    ) {\n      this.currentIndex += 1;\n    }\n    this.switchChanges(true);\n  };\n  activeGallery = evt => {\n    evt.preventDefault();\n    const linkNode = evt.target.closest('a');\n    if (\n      !linkNode ||\n      this.modalContainerNode.classList.contains(explosionOpeningClassName) ||\n      this.modalContainerNode.classList.contains(explosionOpenedClassName)\n    ) {\n      return;\n    }\n\n    this.throttledResize = throttle(this.resize, 200);\n    window.addEventListener('resize', this.throttledResize);\n    window.addEventListener('keydown', this.onEscClick);\n\n    this.currentIndex = Array.from(this.linkNodes).findIndex(\n      itemNode => linkNode === itemNode\n    );\n    console.log(this.currentIndex);\n\n    this.modalContainerNode.classList.add(explosionOpeningClassName);\n\n    this.setInitSizesToImages();\n    this.setInitPositionsToImages();\n\n    fadeIn(this.modalContainerNode, () => {\n      this.modalContainerNode.classList.replace(\n        explosionOpeningClassName,\n        explosionOpenedClassName\n      );\n      this.switchChanges();\n    });\n  };\n  setInitSizesToImages() {\n    console.log(' this.explosionImageNodes', this.explosionImageNodes);\n    this.linkNodes.forEach((linkNode, index) => {\n      const data = linkNode.getBoundingClientRect();\n      this.explosionImageNodes[index].style.width = data.width + 'px';\n      this.explosionImageNodes[index].style.height = data.height + 'px';\n    });\n  }\n  setInitPositionsToImages() {\n    this.linkNodes.forEach((linkNode, index) => {\n      const data = linkNode.getBoundingClientRect();\n      this.setPositionStyles(\n        this.explosionImageNodes[index],\n        data.left,\n        data.top\n      );\n    });\n  }\n  setPositionStyles(element, x, y) {\n    element.style.transform = `translate3d(${x.toFixed(1)}px,\n     ${y.toFixed(1)}px, 0)`;\n  }\n  switchChanges(hasAnimation) {\n    this.setCurrentState();\n    this.switchDisableNav();\n    this.changeCounter();\n    this.changeSummary(hasAnimation);\n  }\n  setCurrentState() {\n    this.explosionPrevHiddenImageNodes = [];\n    this.explosionPrevShowingImageNodes = [];\n    this.explosionActiveImageNodes = [];\n    this.explosionNextShowingImageNodes = [];\n    this.explosionNextHiddenImageNodes = [];\n\n    this.explosionImageNodes.forEach((imageNode, index) => {\n      if (index + this.showingCount < this.currentIndex) {\n        this.explosionPrevHiddenImageNodes.unshift(imageNode);\n      } else if (index < this.currentIndex) {\n        this.explosionPrevShowingImageNodes.unshift(imageNode);\n      } else if (index === this.currentIndex) {\n        this.explosionActiveImageNodes.push(imageNode);\n      } else if (index <= this.currentIndex + this.showingCount) {\n        this.explosionNextShowingImageNodes.push(imageNode);\n      } else {\n        this.explosionNextHiddenImageNodes.push(imageNode);\n      }\n    });\n\n    this.setGalleryStyles();\n  }\n  setGalleryStyles() {\n    const imageWidth = this.linkNodes[0].offsetWidth;\n    const imageHeight = this.linkNodes[0].offsetHeight;\n    const modalWidth = Math.max(this.minWidth, window.innerWidth);\n    const modalHeight = Math.max(this.minHeight, window.innerHeight);\n    // image position\n    this.explosionPrevHiddenImageNodes.forEach(node =>\n      this.setImageStyles(node, {\n        top: -modalHeight,\n        left: 0.31 * modalWidth,\n        opacity: 0.1,\n        zIndex: 1,\n        scale: 0.4,\n      })\n    );\n\n    this.setImageStyles(this.explosionPrevShowingImageNodes[0], {\n      top: modalHeight - imageHeight,\n      left: 0.29 * modalWidth,\n      opacity: 0.4,\n      zIndex: 4,\n      scale: 0.75,\n    });\n\n    this.setImageStyles(this.explosionPrevShowingImageNodes[1], {\n      top: 0.35 * modalHeight,\n      left: 0.11 * modalWidth,\n      opacity: 0.3,\n      zIndex: 3,\n      scale: 0.6,\n    });\n\n    this.setImageStyles(this.explosionPrevShowingImageNodes[2], {\n      top: 0.095 * modalHeight,\n      left: 0.17 * modalWidth,\n      opacity: 0.2,\n      zIndex: 2,\n      scale: 0.5,\n    });\n    this.setImageStyles(this.explosionPrevShowingImageNodes[3], {\n      top: -0.3 * imageHeight,\n      left: 0.29 * modalWidth,\n      opacity: 0.1,\n      zIndex: 2,\n      scale: 0.4,\n    });\n\n    this.explosionActiveImageNodes.forEach(node =>\n      this.setImageStyles(node, {\n        top: (modalHeight - imageHeight) / 2,\n        left: (modalWidth - imageWidth) / 2,\n\n        opacity: 1,\n        zIndex: 5,\n        scale: 1.2,\n      })\n    );\n\n    this.setImageStyles(this.explosionNextShowingImageNodes[0], {\n      top: 0,\n      left: 0.52 * modalWidth,\n      opacity: 0.4,\n      zIndex: 4,\n      scale: 0.75,\n    });\n\n    this.setImageStyles(this.explosionNextShowingImageNodes[1], {\n      top: 0.12 * modalHeight,\n      left: 0.72 * modalWidth,\n      opacity: 0.3,\n      zIndex: 3,\n      scale: 0.6,\n    });\n\n    this.setImageStyles(this.explosionNextShowingImageNodes[2], {\n      top: 0.47 * modalHeight,\n      left: 0.67 * modalWidth,\n      opacity: 0.2,\n      zIndex: 2,\n      scale: 0.5,\n    });\n    this.setImageStyles(this.explosionNextShowingImageNodes[3], {\n      top: 0.67 * imageHeight,\n      left: 0.53 * modalWidth,\n      opacity: 0.1,\n      zIndex: 1,\n      scale: 0.4,\n    });\n\n    this.explosionNextHiddenImageNodes.forEach(node =>\n      this.setImageStyles(node, {\n        top: modalHeight,\n        left: 0.53 * modalWidth,\n        opacity: 0.1,\n        zIndex: 1,\n        scale: 0.4,\n      })\n    );\n\n    //nav position\n    this.setControlsStyles(this.explosionControlsNode, {\n      marginTop: (modalHeight - imageHeight * 1.2) / 2,\n      height: imageHeight * 1.2,\n    });\n    //summary position\n    this.explosionSummaryNode.style.width = '50%';\n  }\n  setImageStyles(element, { top, left, opacity, zIndex, scale }) {\n    if (!element) {\n      return;\n    }\n    element.style.opacity = opacity;\n    element.style.transform = `translate3d(${left.toFixed(1)}px, \n    ${top.toFixed(1)}px, 0) scale(${scale})`;\n    element.style.zIndex = zIndex;\n  }\n  setControlsStyles(element, { marginTop, height }) {\n    element.style.marginTop = marginTop + 'px';\n    element.style.height = height + 'px';\n  }\n\n  switchDisableNav() {\n    if (this.currentIndex === 0 && !this.explosionNavPrevNode.disabled) {\n      this.explosionNavPrevNode.disabled = true;\n    }\n    if (this.currentIndex > 0 && this.explosionNavPrevNode.disabled) {\n      this.explosionNavPrevNode.disabled = false;\n    }\n    if (\n      this.currentIndex === this.size - 1 &&\n      !this.explosionNavNextNode.disabled\n    ) {\n      this.explosionNavNextNode.disabled = true;\n    }\n    if (\n      this.currentIndex < this.size - 1 &&\n      this.explosionNavNextNode.disabled\n    ) {\n      this.explosionNavNextNode.disabled = false;\n    }\n  }\n  changeCounter() {\n    this.explosionCounterNode.innerText = `${this.currentIndex + 1}/${\n      this.size\n    }`;\n  }\n  changeSummary(hasAnimation) {\n    const content = this.explosionImageNodes[this.currentIndex].dataset;\n    if (hasAnimation) {\n      this.explosionSummaryContentNode.style.opacity = 0;\n      setTimeout(() => {\n        this.explosionTitleNode.textContent = content.title;\n        this.explosionDescriptionNode.textContent = content.description;\n        this.explosionSummaryContentNode.style.opacity = 1;\n      }, 500);\n    } else {\n      this.explosionTitleNode.textContent = content.title;\n      this.explosionDescriptionNode.textContent = content.description;\n    }\n  }\n  closeGallery = e => {\n    this.setInitPositionsToImages();\n    this.explosionImageNodes.forEach(imageNode => {\n      imageNode.style.opacity = 1;\n    });\n    this.explosionSummaryNode.style.width = 0;\n    this.explosionControlsNode.style.marginTop = '3000px';\n    fadeOut(this.modalContainerNode, () => {\n      this.modalContainerNode.classList.remove(explosionOpenedClassName);\n      window.removeEventListener('resize', this.throttledResize);\n      window.removeEventListener('keydown', this.onEscClick);\n    });\n  };\n  onEscClick = e => {\n    if (event.key === 'Escape') {\n      this.closeGallery();\n      return;\n    }\n  };\n}\n\n/**\n * Helpers\n */\nfunction fadeIn(element, callback) {\n  animation();\n\n  function animation() {\n    let opacity = Number(element.style.opacity);\n    if (opacity < 1) {\n      opacity = opacity + 0.1;\n      element.style.opacity = opacity;\n      window.requestAnimationFrame(animation);\n      return;\n    }\n\n    if (callback) {\n      callback();\n    }\n  }\n}\n\nfunction fadeOut(element, callback) {\n  animation();\n\n  function animation() {\n    let opacity = Number(element.style.opacity);\n\n    if (opacity > 0) {\n      opacity = opacity - 0.01;\n      element.style.opacity = opacity;\n      window.requestAnimationFrame(animation);\n      return;\n    }\n\n    if (callback) {\n      callback();\n    }\n  }\n}\n\nfunction throttle(callback, delay = 200) {\n  let isWaiting = false;\n  let savedArgs = null;\n  let savedThis = null;\n  return function wrapper(...args) {\n    if (isWaiting) {\n      savedArgs = args;\n      savedThis = this;\n      return;\n    }\n\n    callback.apply(this, args);\n\n    isWaiting = true;\n    setTimeout(() => {\n      isWaiting = false;\n      if (savedThis) {\n        wrapper.apply(savedThis, savedArgs);\n        savedThis = null;\n        savedArgs = null;\n      }\n    }, delay);\n  };\n}\n\nconst explosionGallery = new ExplosionGallery(\n  document.querySelector('.gallery')\n);\n"],"names":["Object","defineProperty","$da4b248c00322402$exports","value","default","obj","key","enumerable","configurable","writable","$ffaa1d6d622c14d5$var$defaultOptions","linkClass","linkImageClass","initModal","this","modalContainerNode","document","createElement","className","innerHTML","size","Array","from","linkNodes","map","linkNode","getAttribute","dataset","title","description","join","explosionImageNodes","querySelectorAll","explosionControlsNode","querySelector","explosionNavsNode","explosionNavPrevNode","explosionNavNextNode","explosionCounterNode","explosionSummaryNode","explosionSummaryContentNode","explosionTitleNode","explosionDescriptionNode","explosionCloseNodes","body","appendChild","events","containerNode","addEventListener","activeGallery","switchImage","closeGallery","setInitSizesToImages","console","log","forEach","index","data","getBoundingClientRect","style","width","height","setInitPositionsToImages","setPositionStyles","left","top","element","x","y","transform","toFixed","switchChanges","hasAnimation","setCurrentState","switchDisableNav","changeCounter","changeSummary","explosionPrevHiddenImageNodes","explosionPrevShowingImageNodes","explosionActiveImageNodes","explosionNextShowingImageNodes","explosionNextHiddenImageNodes","imageNode","showingCount","currentIndex","unshift","push","setGalleryStyles","imageWidth","offsetWidth","imageHeight","offsetHeight","modalWidth","Math","max","minWidth","window","innerWidth","modalHeight","minHeight","innerHeight","node","setImageStyles","opacity","zIndex","scale","setControlsStyles","marginTop","disabled","innerText","content","setTimeout","textContent","constructor","elementNode","options","$parcel$interopDefault","classList","contains","e","preventDefault","buttonNode","target","closest","evt","throttledResize","callback","delay","isWaiting","savedArgs","savedThis","wrapper","args","apply","$ffaa1d6d622c14d5$var$throttle","resize","onEscClick","findIndex","itemNode","add","animation","Number","requestAnimationFrame","$ffaa1d6d622c14d5$var$fadeIn","replace","$ffaa1d6d622c14d5$var$fadeOut","remove","removeEventListener","event","padding","length"],"version":3,"file":"index.cb6a78cb.js.map"}